<?php
$html = "";
foreach ($concerts as $concert) {
    $html .= '<div class="row">';
    $html .= '<div class="col-12"><h2>' . $concert->getName() . '</h2></div>';
    $progress = '<div class="progress">
        <div class="progress-bar progress-bar-animated progress-bar-striped progress-bar-animated bg-success" role="progressbar" aria-valuenow="99" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
    </div>';
    foreach ($concert->getFancams() as $key => $fancam) {
        $id = $concert->getDate().$key;
        $html .= '<div class="col" id="' . $id . '">' . $progress . '</div>';
    }
    $html .= '</div>';

}
echo $html; ?>
<script>
    youtubeLoader();
    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads.
    var player;

    function fancamvideos() {

        <?php foreach ($concerts as $concert) {
        $date = $concert->getDate();
        foreach ($concert->getFancams() as $key => $fancam){
        $idVideo = $fancam->getVideoId();
        $id = $date.$key;
        ?>
        player = new YT.Player("<?php echo $id ?>",
            {
                videoId: "<?php echo $idVideo ?>",
                autoplay: 0;
            });
        <?php
        }
        }
        ?>
    }
</script>